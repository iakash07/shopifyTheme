{%if "product collection cart" contains template.name %} <link rel="stylesheet" type="text/css" href="{{ 'buddha-crosssell.css' | asset_url}}"> <div id="buddha-crosssell" class="bcsell-hidden"> <div class="bcsell-section bcsell-section-uninit"> <div class="bcsell-header"> </div> <ul class="bcsell-list"> <li class="bcsell-item bcsell-item-0"> <div class="bcsell-img"><a href=""><img src="" alt="none" class=""/></a></div> <div class="bcsell-content"><a class="bcsell-product-name"> </a><div class="bcsell-product-prices"><div class="bcsell-product-price-old"></div><div class="bcsell-product-price"></div></div></div> <div class="bcsell-panel"> <div class="bcsell-product-name-container"><a class="bcsell-product-name"> </a></div> <div class="bcsell-row bcsell-variants"> <div class="bcsell-variant-1 bcsell-hidden"><div class="bcsell-select-label">Option1</div><div class="bcsell-select"><select name="select-1" id="bcsell-select-1"></select></div></div> <div class="bcsell-variant-2 bcsell-hidden"><div class="bcsell-select-label">Option2</div><div class="bcsell-select"><select name="select-2" id="bcsell-select-2"></select></div></div> <div class="bcsell-variant-3 bcsell-hidden"><div class="bcsell-select-label">Option3</div><div class="bcsell-select"><select name="select-3" id="bcsell-select-3"></select></div></div> </div> <div class="bcsell-row bcsell-panel-bottom"> <div class="bcsell-product-prices-panel"><div class="bcsell-product-price-old-panel"></div><div class="bcsell-product-price-panel"></div></div> <div class="bcsell-product-rating-stars bcsell-hidden"><div class="bcsell-product-rating-stars-active"></div></div> <div class="bcsell-add-to-cart"><a>Add to Cart</a></div> </div> </div> </li> <li class="bcsell-item bcsell-item-1"> <div class="bcsell-img"><a href=""><img src="" alt="none" class=""/></a></div> <div class="bcsell-content"><a class="bcsell-product-name"> </a><div class="bcsell-product-prices"><div class="bcsell-product-price-old"></div><div class="bcsell-product-price"></div></div></div> <div class="bcsell-panel"> <div class="bcsell-product-name-container"><a class="bcsell-product-name"> </a></div> <div class="bcsell-row bcsell-variants"> <div class="bcsell-variant-1 bcsell-hidden"><div class="bcsell-select-label">Option1</div><div class="bcsell-select"><select name="select-1" id="bcsell-select-1"></select></div></div> <div class="bcsell-variant-2 bcsell-hidden"><div class="bcsell-select-label">Option2</div><div class="bcsell-select"><select name="select-2" id="bcsell-select-2"></select></div></div> <div class="bcsell-variant-3 bcsell-hidden"><div class="bcsell-select-label">Option3</div><div class="bcsell-select"><select name="select-3" id="bcsell-select-3"></select></div></div> </div> <div class="bcsell-row bcsell-panel-bottom"> <div class="bcsell-product-prices-panel"><div class="bcsell-product-price-old-panel"></div><div class="bcsell-product-price-panel"></div></div> <div class="bcsell-product-rating-stars bcsell-hidden"><div class="bcsell-product-rating-stars-active"></div></div> <div class="bcsell-add-to-cart"><a>Add to Cart</a></div> </div> </div> </li> <li class="bcsell-item bcsell-item-2"> <div class="bcsell-img"><a href=""><img src="" alt="none" class=""/></a></div> <div class="bcsell-content"><a class="bcsell-product-name"> </a><div class="bcsell-product-prices"><div class="bcsell-product-price-old"></div><div class="bcsell-product-price"></div></div></div> <div class="bcsell-panel"> <div class="bcsell-product-name-container"><a class="bcsell-product-name"> </a></div> <div class="bcsell-row bcsell-variants"> <div class="bcsell-variant-1 bcsell-hidden"><div class="bcsell-select-label">Option1</div><div class="bcsell-select"><select name="select-1" id="bcsell-select-1"></select></div></div> <div class="bcsell-variant-2 bcsell-hidden"><div class="bcsell-select-label">Option2</div><div class="bcsell-select"><select name="select-2" id="bcsell-select-2"></select></div></div> <div class="bcsell-variant-3 bcsell-hidden"><div class="bcsell-select-label">Option3</div><div class="bcsell-select"><select name="select-3" id="bcsell-select-3"></select></div></div> </div> <div class="bcsell-row bcsell-panel-bottom"> <div class="bcsell-product-prices-panel"><div class="bcsell-product-price-old-panel"></div><div class="bcsell-product-price-panel"></div></div> <div class="bcsell-product-rating-stars bcsell-hidden"><div class="bcsell-product-rating-stars-active"></div></div> <div class="bcsell-add-to-cart"><a>Add to Cart</a></div> </div> </div> </li> <li class="bcsell-item bcsell-item-3"> <div class="bcsell-img"><a href=""><img src="" alt="none" class=""/></a></div> <div class="bcsell-content"><a class="bcsell-product-name"> </a><div class="bcsell-product-prices"><div class="bcsell-product-price-old"></div><div class="bcsell-product-price"></div></div></div> <div class="bcsell-panel"> <div class="bcsell-product-name-container"><a class="bcsell-product-name"> </a></div> <div class="bcsell-row bcsell-variants"> <div class="bcsell-variant-1 bcsell-hidden"><div class="bcsell-select-label">Option1</div><div class="bcsell-select"><select name="select-1" id="bcsell-select-1"></select></div></div> <div class="bcsell-variant-2 bcsell-hidden"><div class="bcsell-select-label">Option2</div><div class="bcsell-select"><select name="select-2" id="bcsell-select-2"></select></div></div> <div class="bcsell-variant-3 bcsell-hidden"><div class="bcsell-select-label">Option3</div><div class="bcsell-select"><select name="select-3" id="bcsell-select-3"></select></div></div> </div> <div class="bcsell-row bcsell-panel-bottom"> <div class="bcsell-product-prices-panel"><div class="bcsell-product-price-old-panel"></div><div class="bcsell-product-price-panel"></div></div> <div class="bcsell-product-rating-stars bcsell-hidden"><div class="bcsell-product-rating-stars-active"></div></div> <div class="bcsell-add-to-cart"><a>Add to Cart</a></div> </div> </div> </li> </ul> </div> <label for="bcsell-select-1"> Variant 1 </label> <label for="bcsell-select-2"> Variant 2 </label> <label for="bcsell-select-3"> Variant 3 </label> </div> <script> buddhaCrosssell = {}; buddhaCrosssell.productHandle='{{product.handle}}'; buddhaCrosssell.collectionHandle='{{collection.handle}}'; buddhaCrosssell.pageHandle='{{page.handle}}'; buddhaCrosssell.shopUrl='{{shop.url}}'; buddhaCrosssell.template='{{template.name}}'; buddhaCrosssell.moneyFormat={% if shop.money_format contains "'" %} "{{shop.money_format}}" {%else%} '{{shop.money_format}}'{%endif%}; buddhaCrosssell.productsFromCollection=[ {% if template.name == "product" or template.name == "cart"%} {% assign viewedProduct = product %} {% if template.name == "cart" %} {% assign viewedProduct = cart.items[0].product %} {% endif %} {% assign products = "" %} {% assign numProducts = 0 %} {% for collection in viewedProduct.collections %} {% assign title = collection.title | downcase %} {%if title != "best selling products" and title != "newest products" %} {%for prod in collection.products %} {%if prod.handle != viewedProduct.handle %} {%unless products contains prod.handle %} {% assign products = products | append : prod.handle %} '{{prod.handle}}', {% assign numProducts = numProducts | plus: 1 %} {% if numProducts == 8 %} {% break %} {%endif%} {%endunless%} {%endif%} {%endfor%} {%endif%} {% if numProducts == 8 %} {% break %} {%endif%} {% endfor %} {% endif %} ]; buddhaCrosssell.randomProducts=[ {% capture prodHdl %} {% if all_products["its-ok"].available == true %} "its-ok", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} {% capture prodHdl %} {% if all_products["gift-for-buddha-jayanti"].available == true %} "gift-for-buddha-jayanti", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} {% capture prodHdl %} {% if all_products["corporate-coffee-mug"].available == true %} "corporate-coffee-mug", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} {% capture prodHdl %} {% if all_products["create"].available == true %} "create", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} {% capture prodHdl %} {% if all_products["valentines-day-gift"].available == true %} "valentines-day-gift", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} {% capture prodHdl %} {% if all_products["epically-money-a-fun-way-to-teach-children-decision-making-about-money-ages-10-to-99-years-2-to-4-players"].available == true %} "epically-money-a-fun-way-to-teach-children-decision-making-about-money-ages-10-to-99-years-2-to-4-players", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} {% capture prodHdl %} {% if all_products["ganesh-ji-1"].available == true %} "ganesh-ji-1", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} {% capture prodHdl %} {% if all_products["i-am-me-diy"].available == true %} "i-am-me-diy", {% endif %} {% endcapture %} {% unless prodHdl contains "Liquid error" %} {{prodHdl}} {% endunless %} ]; buddhaCrosssell.newestProducts = [ {% assign np = "newest-products" %} {% for collection in collections %} {% assign title = collection.title | downcase %} {% if title == "newest products" %} {% assign np = collection.handle %} {% break %} {% endif %} {% endfor %} {% for product in collections[np].products limit:8 %} "{{product.handle}}", {% endfor %} ]; buddhaCrosssell.bestSellingProducts = [ {% assign bs = "best-selling-products" %} {% for collection in collections %} {% assign title = collection.title | downcase %} {% if title == "best selling products" %} {% assign bs = collection.handle %} {% break %} {% endif %} {% endfor %} {% for product in collections[bs].products limit:8 %} "{{product.handle}}", {% endfor %} ]; buddhaCrosssell.youMayAlsoLikeProducts = [ {% if template.name == "cart" %} {% assign currentProd = cart.items[0].product %} {% elsif template.name == "product" %} {% assign currentProd = product %} {% endif %} {% assign currentProdType = currentProd.type %} {% assign currentProdTags = currentProd | map: "tags" | join:',' %} {% assign sameTypeAndTagProducts = '' | split: '' %} {% assign sameTypeAndTagProductsBS = '' | split: '' %} {% if currentProd %} {% comment %} 1. get best selling handle {% endcomment %} {% assign bs = "best-selling-products" %} {% for collection in collections %} {% assign title = collection.title | downcase %} {% if title == "best selling products" %} {% assign bs = collection.handle %} {% break %} {% endif %} {% endfor %} {% comment %} 2. filter by type and tag, keep best selling ones separately {% endcomment %} {% for col in currentProd.collections %} {% assign sameTypeProducts = col.products | where: "type", currentProdType %} {% assign title = col.title | downcase %} {% if title == "best selling products" %} {% for prod in sameTypeProducts %} {% assign sameTag = false %} {% for tag in prod.tags %} {% if currentProdTags contains tag %} {% assign sameTag = true %} {% break %} {% endif %} {% endfor %} {% if sameTag == true or currentProdTags == "" %} {% assign prodHdlArray = prod.handle | split: ' ' %} {% assign sameTypeAndTagProductsBS = sameTypeAndTagProductsBS | concat: prodHdlArray | uniq %} {% endif %} {% if sameTypeAndTagProductsBS.size > 8 %} {% break %} {%endif%} {% endfor %} {% else %} {% for prod in sameTypeProducts %} {% assign sameTag = false %} {% for tag in prod.tags %} {% if currentProdTags contains tag %} {% assign sameTag = true %} {% break %} {% endif %} {% endfor %} {% if sameTag == true or currentProdTags == "" %} {% assign prodHdlArray = prod.handle | split: ' ' %} {% assign sameTypeAndTagProducts = sameTypeAndTagProducts | concat: prodHdlArray | uniq %} {% endif %} {% if sameTypeAndTagProducts.size > 8 %} {% break %} {%endif%} {% endfor %} {% endif %} {% if sameTypeAndTagProducts.size > 8 or sameTypeAndTagProductsBS.size > 8 %} {% break %} {%endif%} {% endfor %} {% endif %} {% assign resultHdls = sameTypeAndTagProductsBS | concat: sameTypeAndTagProducts | uniq %} {% for prod in resultHdls %} {% if prod != currentProd.handle %} "{{ prod }}", {%endif%} {% endfor %} ]; buddhaCrosssell.schema = {"enableAlsoBought":false,"enableNewestProducts":false,"enableRecentlyViewedProducts":true,"abWidgetTitle":"People who bought this product, also bought","npWidgetTitle":"Newest Products","rvWidgetTitle":"Recently Viewed Products"}; buddhaCrosssell.schemaMCE = []; </script> <script src="{{ 'buddha-crosssell.js' | asset_url }}" defer data-instant></script> {%endif%}